// Compiled by ClojureScript 1.10.844 {:static-fns true, :optimize-constants true}
goog.provide('canastref.drop_file_stream');
goog.require('cljs.core');
goog.require('cljs.core.constants');
goog.require('day8.re_frame.http_fx');
goog.require('ajax.core');
canastref.drop_file_stream.ajax_request_delete_file_from_dropbox = (function canastref$drop_file_stream$ajax_request_delete_file_from_dropbox(filename,db_key){
var path = ["/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(filename)].join('');
return cljs.core.PersistentHashMap.fromArrays([cljs.core.cst$kw$format,cljs.core.cst$kw$method,cljs.core.cst$kw$response_DASH_format,cljs.core.cst$kw$params,cljs.core.cst$kw$on_DASH_success,cljs.core.cst$kw$headers,cljs.core.cst$kw$with_DASH_credentials_QMARK_,cljs.core.cst$kw$on_DASH_failure,cljs.core.cst$kw$uri],[(ajax.core.json_request_format.cljs$core$IFn$_invoke$arity$0 ? ajax.core.json_request_format.cljs$core$IFn$_invoke$arity$0() : ajax.core.json_request_format.call(null)),cljs.core.cst$kw$post,(function (){var G__21690 = new cljs.core.PersistentArrayMap(null, 1, [cljs.core.cst$kw$keywords_QMARK_,true], null);
return (ajax.core.json_response_format.cljs$core$IFn$_invoke$arity$1 ? ajax.core.json_response_format.cljs$core$IFn$_invoke$arity$1(G__21690) : ajax.core.json_response_format.call(null,G__21690));
})(),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.cst$kw$path,path], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$process_DASH_deleted,db_key], null),new cljs.core.PersistentArrayMap(null, 1, ["Authorization","Bearer QfCCKhxI-HwAAAAAAAAGe4i9DNbnHKnffOh6gCeyFIKFvRqMbS7IW1JQzyb8XVNp"], null),false,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$bad_DASH_resp,db_key], null),"https://api.dropboxapi.com/2/files/delete"]);
});
canastref.drop_file_stream.ajax_request_file_exists_on_dropbox = (function canastref$drop_file_stream$ajax_request_file_exists_on_dropbox(filename,db_key){
var path = ["/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(filename)].join('');
return cljs.core.PersistentHashMap.fromArrays([cljs.core.cst$kw$format,cljs.core.cst$kw$method,cljs.core.cst$kw$response_DASH_format,cljs.core.cst$kw$params,cljs.core.cst$kw$on_DASH_success,cljs.core.cst$kw$headers,cljs.core.cst$kw$with_DASH_credentials_QMARK_,cljs.core.cst$kw$on_DASH_failure,cljs.core.cst$kw$uri],[(ajax.core.json_request_format.cljs$core$IFn$_invoke$arity$0 ? ajax.core.json_request_format.cljs$core$IFn$_invoke$arity$0() : ajax.core.json_request_format.call(null)),cljs.core.cst$kw$post,(function (){var G__21691 = new cljs.core.PersistentArrayMap(null, 1, [cljs.core.cst$kw$keywords_QMARK_,true], null);
return (ajax.core.json_response_format.cljs$core$IFn$_invoke$arity$1 ? ajax.core.json_response_format.cljs$core$IFn$_invoke$arity$1(G__21691) : ajax.core.json_response_format.call(null,G__21691));
})(),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.cst$kw$path,path], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$process_DASH_exists,db_key], null),new cljs.core.PersistentArrayMap(null, 2, ["Authorization","Bearer QfCCKhxI-HwAAAAAAAAGe4i9DNbnHKnffOh6gCeyFIKFvRqMbS7IW1JQzyb8XVNp","Content-Type","text/plain; charset=utf-8"], null),false,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$bad_DASH_resp,db_key], null),"https://api.dropboxapi.com/2/files/get_metadata"]);
});
canastref.drop_file_stream.ajax_request_read_edn_from_dropbox = (function canastref$drop_file_stream$ajax_request_read_edn_from_dropbox(filename,db_key){
var path = ["{\"path\":\"/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(filename),"\"}"].join('');
return new cljs.core.PersistentArrayMap(null, 8, [cljs.core.cst$kw$method,cljs.core.cst$kw$post,cljs.core.cst$kw$uri,"https://content.dropboxapi.com/2/files/download",cljs.core.cst$kw$with_DASH_credentials_QMARK_,false,cljs.core.cst$kw$headers,new cljs.core.PersistentArrayMap(null, 3, ["Authorization","Bearer QfCCKhxI-HwAAAAAAAAGe4i9DNbnHKnffOh6gCeyFIKFvRqMbS7IW1JQzyb8XVNp","Dropbox-API-Arg",path,"Content-Type","text/plain; charset=utf-8"], null),cljs.core.cst$kw$response_DASH_format,(ajax.core.text_response_format.cljs$core$IFn$_invoke$arity$0 ? ajax.core.text_response_format.cljs$core$IFn$_invoke$arity$0() : ajax.core.text_response_format.call(null)),cljs.core.cst$kw$on_DASH_success,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$process_DASH_resp,db_key], null),cljs.core.cst$kw$on_DASH_failure,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$bad_DASH_resp,db_key], null),cljs.core.cst$kw$body,""], null);
});
canastref.drop_file_stream.ajax_request_write_edn_to_dropbox = (function canastref$drop_file_stream$ajax_request_write_edn_to_dropbox(content,filename,db_key){
var path = ["{\"path\":\"/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(filename),"\"",",","\"mode\":{\".tag\":\"overwrite\"}}"].join('');
return new cljs.core.PersistentArrayMap(null, 8, [cljs.core.cst$kw$method,cljs.core.cst$kw$post,cljs.core.cst$kw$uri,"https://content.dropboxapi.com/2/files/upload",cljs.core.cst$kw$with_DASH_credentials_QMARK_,false,cljs.core.cst$kw$headers,new cljs.core.PersistentArrayMap(null, 3, ["Authorization","Bearer QfCCKhxI-HwAAAAAAAAGe4i9DNbnHKnffOh6gCeyFIKFvRqMbS7IW1JQzyb8XVNp","Dropbox-API-Arg",path,"Content-Type","application/octet-stream"], null),cljs.core.cst$kw$response_DASH_format,(ajax.core.text_response_format.cljs$core$IFn$_invoke$arity$0 ? ajax.core.text_response_format.cljs$core$IFn$_invoke$arity$0() : ajax.core.text_response_format.call(null)),cljs.core.cst$kw$on_DASH_success,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$process_DASH_written,db_key], null),cljs.core.cst$kw$on_DASH_failure,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.cst$kw$bad_DASH_resp,db_key], null),cljs.core.cst$kw$body,content], null);
});
